--- dnsmasq.conf.example	2024-02-19 17:40:09.563152181 +0100
+++ dnsmasq.conf.example.patch	2024-03-08 08:45:42.436961452 +0100
@@ -4,6 +4,13 @@
 # as the long options legal on the command line. See
 # "/usr/sbin/dnsmasq --help" or "man 8 dnsmasq" for details.
 
+# To allow running in container, do not run as a daemon
+keep-in-foreground
+# Log to stdout
+log-facility=/dev/stdout
+# allow asking for domain to all available servers
+all-servers
+
 # Listen on this specific port instead of the standard DNS port
 # (53). Setting this to zero completely disables DNS function,
 # leaving only DHCP and/or TFTP.
@@ -16,9 +23,9 @@
 # these requests from bringing up the link unnecessarily.
 
 # Never forward plain names (without a dot or domain part)
-#domain-needed
+domain-needed
 # Never forward addresses in the non-routed address spaces.
-#bogus-priv
+bogus-priv
 
 # Uncomment these to enable DNSSEC validation and caching:
 # (Requires dnsmasq to be built with DNSSEC option.)
@@ -55,7 +62,7 @@
 # If you don't want dnsmasq to read /etc/resolv.conf or any other
 # file, getting its servers from this file instead (see below), then
 # uncomment this.
-#no-resolv
+no-resolv
 
 # If you don't want dnsmasq to poll /etc/resolv.conf or other resolv
 # files for changes and re-read them then uncomment this.
@@ -135,7 +142,7 @@
 
 # If you don't want dnsmasq to read /etc/hosts, uncomment the
 # following line.
-#no-hosts
+no-hosts
 # or if you want it to read another file, as well as /etc/hosts, use
 # this.
 #addn-hosts=/etc/banner_add_hosts
@@ -442,7 +449,7 @@
 #dhcp-option-force=209,configs/common
 # Path prefix
 #dhcp-option-force=210,/tftpboot/pxelinux/files/
-# Reboot time. (Note 'i' to send 32-bit value)
+# Reboot time. (Note 'i'una customizzazione dentro to send 32-bit value)
 #dhcp-option-force=211,30i
 
 # Set the boot filename for netboot/PXE. You will only need
@@ -555,7 +562,7 @@
 # server for your campus/company accidentally. The ISC server uses
 # the same option, and this URL provides more information:
 # http://www.isc.org/files/auth.html
-#dhcp-authoritative
+dhcp-authoritative
 
 # Set the DHCP server to enable DHCPv4 Rapid Commit Option per RFC 4039.
 # In this mode it will respond to a DHCPDISCOVER message including a Rapid Commit
@@ -572,7 +579,7 @@
 #dhcp-script=/bin/echo
 
 # Set the cachesize here.
-#cache-size=150
+cache-size=4000
 
 # If you want to disable negative caching, uncomment this.
 #no-negcache
@@ -681,7 +688,7 @@
 #conf-dir=/etc/dnsmasq.d,.bak
 
 # Include all files in a directory which end in .conf
-#conf-dir=/etc/dnsmasq.d/,*.conf
+conf-dir=/etc/dnsmasq.d/,*.conf
 
 # If a DHCP client claims that its name is "wpad", ignore that.
 # This fixes a security hole. see CERT Vulnerability VU#598349
